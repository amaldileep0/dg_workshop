(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2994)}])},2994:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>O});var s=a(4848),n=a(6540),t=a(6424),c=a(6871),i=a(1849),l=a(8221),o=a.n(l),h=a(5556),d=a.n(h),_=a(8118),u=a.n(_);let m=e=>{let{title:r="",handleSearch:a}=e,[t,c]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),h=(0,n.useRef)(null),d=()=>{l(document.documentElement.scrollTop>0)},_=()=>{var e;c(!0),null===(e=h.current)||void 0===e||e.focus()},m=o()(e=>{a(e)},400);return(0,n.useEffect)(()=>(window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)),[]),(0,s.jsx)("div",{className:"".concat(u().searchBarWrapper," ").concat(i?u().hasShadow:""),children:(0,s.jsxs)("div",{className:u().searchBar,children:[(0,s.jsx)("div",{className:"".concat(u().iconContainer," ").concat(u().left),children:(0,s.jsx)("div",{className:"".concat(u().icon," ").concat(u().arrow),onClick:()=>{c(!1),a("")}})}),t?(0,s.jsx)("input",{type:"text",className:u().customInput,maxLength:32,placeholder:"Search....",ref:h,onChange:e=>m(e.target.value)}):(0,s.jsx)("h1",{className:u().title,onClick:_,children:r}),!t&&(0,s.jsx)("div",{className:"".concat(u().iconContainer," ").concat(u().right),children:(0,s.jsx)("div",{className:"".concat(u().icon," ").concat(u().search),onClick:_})})]})})};m.propTypes={handleSearch:d().func.isRequired,title:d().string};var v=a(2379);let p=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(0,n.useRef)(null),[s,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!e.current)return;let s="0px 0px ".concat(r,"px 0px");return a.current=new IntersectionObserver(e=>{let[r]=e;return t(r.isIntersecting)},{rootMargin:s,threshold:1}),a.current.observe(e.current),()=>{var e;null===(e=a.current)||void 0===e||e.disconnect()}},[e,r]),s};var x=a(658),S=a(2590),j=a.n(S);let f=()=>(0,s.jsx)("div",{className:j().fallbackSpinnerContainer,children:(0,s.jsx)(x.A,{animation:"border",variant:"dark"})}),w={NO_SEARCH_RESULTS:"Sorry. No results found for",NO_RESULTS:"No movies available at the moment."};var N=a(1468);let g=N.wA.withTypes(),E=N.d4.withTypes();N.Pj.withTypes();var C=a(4798),L=a.n(C);let B=(0,n.lazy)(()=>Promise.all([a.e(742),a.e(126)]).then(a.bind(a,126))),b=()=>{let[e,r]=(0,n.useState)(""),[a,l]=(0,n.useState)(1),{data:o,movies:h,hasMore:d,isLoading:_,hasError:u,isSuccess:x}=E(v.RZ),S=g(),j=(0,t.useRouter)(),N=(0,n.useRef)(null),C=p(N,500),b=e=>{S((0,v.MM)(e))};(0,n.useEffect)(()=>{(C||1===a)&&d&&(b(a),l(a+1))},[C]),(0,n.useEffect)(()=>{u&&j.push("/error")},[u,j]);let k=(0,n.useMemo)(()=>h.filter(r=>r.name.toLowerCase().includes(e.toLowerCase())),[h,e]);return(0,s.jsx)("div",{className:"container-fluid",children:(0,s.jsxs)("div",{className:L().moviesPage,children:[(0,s.jsx)(m,{handleSearch:e=>{r(e)},title:(null==o?void 0:o.title)||""}),(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{id:"scrollableDiv",className:L().movieList,children:[(0,s.jsx)(c.A,{children:k.length?(0,s.jsx)(s.Fragment,{children:k.map((e,r)=>(0,s.jsx)(i.A,{xs:4,md:4,lg:2,className:L().mediaCol,children:(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(f,{}),children:(0,s.jsx)(B,{movie:e},r)})},r))}):(0,s.jsx)(s.Fragment,{children:x&&(0,s.jsx)(i.A,{children:(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,s.jsx)("p",{children:"".concat(e?w.NO_SEARCH_RESULTS:w.NO_RESULTS," ").concat(e)})})})})}),(0,s.jsx)("div",{className:"".concat(!k.length||e?L().hidden:L().show),ref:N})]}),_&&(0,s.jsx)(f,{})]})]})})};var k=a(3368),R=a.n(k);let O=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(R(),{children:[(0,s.jsx)("title",{children:"Diagnal Workshop | Home"}),(0,s.jsx)("meta",{name:"description",content:"Home page for dg workshop"})]}),(0,s.jsx)(b,{})]})},2590:e=>{e.exports={fallbackSpinnerContainer:"Loader_fallbackSpinnerContainer__DaElE"}},4798:e=>{e.exports={moviesPage:"MovieList_moviesPage__Qa4z_",movieList:"MovieList_movieList__bMmwc",mediaCol:"MovieList_mediaCol__Hh6Az",hidden:"MovieList_hidden__irQSG",show:"MovieList_show__KUKPA"}},8118:e=>{e.exports={searchBarWrapper:"SearchBar_searchBarWrapper__LpiiN",hasShadow:"SearchBar_hasShadow__A3gJs",searchBar:"SearchBar_searchBar__QVgwE",customInput:"SearchBar_customInput__bONjL",title:"SearchBar_title__DWU_1",iconContainer:"SearchBar_iconContainer__KG8OQ",left:"SearchBar_left__rpOOJ",icon:"SearchBar_icon__tyuo_",arrow:"SearchBar_arrow__RZKJV",search:"SearchBar_search__ph_Kj"}}},e=>{var r=r=>e(e.s=r);e.O(0,[767,636,593,792],()=>r(2022)),_N_E=e.O()}]);